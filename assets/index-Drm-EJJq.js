(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const l of f)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function i(f){const l={};return f.integrity&&(l.integrity=f.integrity),f.referrerPolicy&&(l.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?l.credentials="include":f.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(f){if(f.ep)return;f.ep=!0;const l=i(f);fetch(f.href,l)}})();var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ue(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nt={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,r){(function(i){t.exports=i()})(function(){return function i(c,f,l){function m(g,T){if(!f[g]){if(!c[g]){var y=typeof Ue=="function"&&Ue;if(!T&&y)return y(g,!0);if(h)return h(g,!0);var $=new Error("Cannot find module '"+g+"'");throw $.code="MODULE_NOT_FOUND",$}var U=f[g]={exports:{}};c[g][0].call(U.exports,function(Y){var te=c[g][1][Y];return m(te||Y)},U,U.exports,i,c,f,l)}return f[g].exports}for(var h=typeof Ue=="function"&&Ue,p=0;p<l.length;p++)m(l[p]);return m}({1:[function(i,c,f){(function(l){var m=l.MutationObserver||l.WebKitMutationObserver,h;if(m){var p=0,g=new m(Y),T=l.document.createTextNode("");g.observe(T,{characterData:!0}),h=function(){T.data=p=++p%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var y=new l.MessageChannel;y.port1.onmessage=Y,h=function(){y.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?h=function(){var V=l.document.createElement("script");V.onreadystatechange=function(){Y(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},l.document.documentElement.appendChild(V)}:h=function(){setTimeout(Y,0)};var $,U=[];function Y(){$=!0;for(var V,oe,z=U.length;z;){for(oe=U,U=[],V=-1;++V<z;)oe[V]();z=U.length}$=!1}c.exports=te;function te(V){U.push(V)===1&&!$&&h()}}).call(this,typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,c,f){var l=i(1);function m(){}var h={},p=["REJECTED"],g=["FULFILLED"],T=["PENDING"];c.exports=y;function y(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=T,this.queue=[],this.outcome=void 0,S!==m&&te(this,S)}y.prototype.catch=function(S){return this.then(null,S)},y.prototype.then=function(S,N){if(typeof S!="function"&&this.state===g||typeof N!="function"&&this.state===p)return this;var M=new this.constructor(m);if(this.state!==T){var H=this.state===g?S:N;U(M,H,this.outcome)}else this.queue.push(new $(M,S,N));return M};function $(S,N,M){this.promise=S,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}$.prototype.callFulfilled=function(S){h.resolve(this.promise,S)},$.prototype.otherCallFulfilled=function(S){U(this.promise,this.onFulfilled,S)},$.prototype.callRejected=function(S){h.reject(this.promise,S)},$.prototype.otherCallRejected=function(S){U(this.promise,this.onRejected,S)};function U(S,N,M){l(function(){var H;try{H=N(M)}catch(j){return h.reject(S,j)}H===S?h.reject(S,new TypeError("Cannot resolve promise with itself")):h.resolve(S,H)})}h.resolve=function(S,N){var M=V(Y,N);if(M.status==="error")return h.reject(S,M.value);var H=M.value;if(H)te(S,H);else{S.state=g,S.outcome=N;for(var j=-1,C=S.queue.length;++j<C;)S.queue[j].callFulfilled(N)}return S},h.reject=function(S,N){S.state=p,S.outcome=N;for(var M=-1,H=S.queue.length;++M<H;)S.queue[M].callRejected(N);return S};function Y(S){var N=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof N=="function")return function(){N.apply(S,arguments)}}function te(S,N){var M=!1;function H(Q){M||(M=!0,h.reject(S,Q))}function j(Q){M||(M=!0,h.resolve(S,Q))}function C(){N(j,H)}var O=V(C);O.status==="error"&&H(O.value)}function V(S,N){var M={};try{M.value=S(N),M.status="success"}catch(H){M.status="error",M.value=H}return M}y.resolve=oe;function oe(S){return S instanceof this?S:h.resolve(new this(m),S)}y.reject=z;function z(S){var N=new this(m);return h.reject(N,S)}y.all=ue;function ue(S){var N=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=S.length,H=!1;if(!M)return this.resolve([]);for(var j=new Array(M),C=0,O=-1,Q=new this(m);++O<M;)G(S[O],O);return Q;function G(L,E){N.resolve(L).then(I,function(R){H||(H=!0,h.reject(Q,R))});function I(R){j[E]=R,++C===M&&!H&&(H=!0,h.resolve(Q,j))}}}y.race=ae;function ae(S){var N=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=S.length,H=!1;if(!M)return this.resolve([]);for(var j=-1,C=new this(m);++j<M;)O(S[j]);return C;function O(Q){N.resolve(Q).then(function(G){H||(H=!0,h.resolve(C,G))},function(G){H||(H=!0,h.reject(C,G))})}}},{1:1}],3:[function(i,c,f){(function(l){typeof l.Promise!="function"&&(l.Promise=i(2))}).call(this,typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,c,f){var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function m(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var p=h();function g(){try{if(!p||!p.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),o=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||o)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function T(e,o){e=e||[],o=o||{};try{return new Blob(e,o)}catch(a){if(a.name!=="TypeError")throw a;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,s=new n,u=0;u<e.length;u+=1)s.append(e[u]);return s.getBlob(o.type)}}typeof Promise>"u"&&i(3);var y=Promise;function $(e,o){o&&e.then(function(n){o(null,n)},function(n){o(n)})}function U(e,o,n){typeof o=="function"&&e.then(o),typeof n=="function"&&e.catch(n)}function Y(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function te(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var V="local-forage-detect-blob-support",oe=void 0,z={},ue=Object.prototype.toString,ae="readonly",S="readwrite";function N(e){for(var o=e.length,n=new ArrayBuffer(o),s=new Uint8Array(n),u=0;u<o;u++)s[u]=e.charCodeAt(u);return n}function M(e){return new y(function(o){var n=e.transaction(V,S),s=T([""]);n.objectStore(V).put(s,"key"),n.onabort=function(u){u.preventDefault(),u.stopPropagation(),o(!1)},n.oncomplete=function(){var u=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);o(a||!u||parseInt(u[1],10)>=43)}}).catch(function(){return!1})}function H(e){return typeof oe=="boolean"?y.resolve(oe):M(e).then(function(o){return oe=o,oe})}function j(e){var o=z[e.name],n={};n.promise=new y(function(s,u){n.resolve=s,n.reject=u}),o.deferredOperations.push(n),o.dbReady?o.dbReady=o.dbReady.then(function(){return n.promise}):o.dbReady=n.promise}function C(e){var o=z[e.name],n=o.deferredOperations.pop();if(n)return n.resolve(),n.promise}function O(e,o){var n=z[e.name],s=n.deferredOperations.pop();if(s)return s.reject(o),s.promise}function Q(e,o){return new y(function(n,s){if(z[e.name]=z[e.name]||K(),e.db)if(o)j(e),e.db.close();else return n(e.db);var u=[e.name];o&&u.push(e.version);var a=p.open.apply(p,u);o&&(a.onupgradeneeded=function(d){var v=a.result;try{v.createObjectStore(e.storeName),d.oldVersion<=1&&v.createObjectStore(V)}catch(_){if(_.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+d.oldVersion+" to version "+d.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw _}}),a.onerror=function(d){d.preventDefault(),s(a.error)},a.onsuccess=function(){var d=a.result;d.onversionchange=function(v){v.target.close()},n(d),C(e)}})}function G(e){return Q(e,!1)}function L(e){return Q(e,!0)}function E(e,o){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),s=e.version<e.db.version,u=e.version>e.db.version;if(s&&(e.version!==o&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),u||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function I(e){return new y(function(o,n){var s=new FileReader;s.onerror=n,s.onloadend=function(u){var a=btoa(u.target.result||"");o({__local_forage_encoded_blob:!0,data:a,type:e.type})},s.readAsBinaryString(e)})}function R(e){var o=N(atob(e.data));return T([o],{type:e.type})}function A(e){return e&&e.__local_forage_encoded_blob}function P(e){var o=this,n=o._initReady().then(function(){var s=z[o._dbInfo.name];if(s&&s.dbReady)return s.dbReady});return U(n,e,e),n}function B(e){j(e);for(var o=z[e.name],n=o.forages,s=0;s<n.length;s++){var u=n[s];u._dbInfo.db&&(u._dbInfo.db.close(),u._dbInfo.db=null)}return e.db=null,G(e).then(function(a){return e.db=a,E(e)?L(e):a}).then(function(a){e.db=o.db=a;for(var d=0;d<n.length;d++)n[d]._dbInfo.db=a}).catch(function(a){throw O(e,a),a})}function q(e,o,n,s){s===void 0&&(s=1);try{var u=e.db.transaction(e.storeName,o);n(null,u)}catch(a){if(s>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return y.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),L(e)}).then(function(){return B(e).then(function(){q(e,o,n,s-1)})}).catch(n);n(a)}}function K(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function X(e){var o=this,n={db:null};if(e)for(var s in e)n[s]=e[s];var u=z[n.name];u||(u=K(),z[n.name]=u),u.forages.push(o),o._initReady||(o._initReady=o.ready,o.ready=P);var a=[];function d(){return y.resolve()}for(var v=0;v<u.forages.length;v++){var _=u.forages[v];_!==o&&a.push(_._initReady().catch(d))}var b=u.forages.slice(0);return y.all(a).then(function(){return n.db=u.db,G(n)}).then(function(w){return n.db=w,E(n,o._defaultConfig.version)?L(n):w}).then(function(w){n.db=u.db=w,o._dbInfo=n;for(var x=0;x<b.length;x++){var F=b[x];F!==o&&(F._dbInfo.db=n.db,F._dbInfo.version=n.version)}})}function re(e,o){var n=this;e=Y(e);var s=new y(function(u,a){n.ready().then(function(){q(n._dbInfo,ae,function(d,v){if(d)return a(d);try{var _=v.objectStore(n._dbInfo.storeName),b=_.get(e);b.onsuccess=function(){var w=b.result;w===void 0&&(w=null),A(w)&&(w=R(w)),u(w)},b.onerror=function(){a(b.error)}}catch(w){a(w)}})}).catch(a)});return $(s,o),s}function se(e,o){var n=this,s=new y(function(u,a){n.ready().then(function(){q(n._dbInfo,ae,function(d,v){if(d)return a(d);try{var _=v.objectStore(n._dbInfo.storeName),b=_.openCursor(),w=1;b.onsuccess=function(){var x=b.result;if(x){var F=x.value;A(F)&&(F=R(F));var W=e(F,x.key,w++);W!==void 0?u(W):x.continue()}else u()},b.onerror=function(){a(b.error)}}catch(x){a(x)}})}).catch(a)});return $(s,o),s}function _e(e,o,n){var s=this;e=Y(e);var u=new y(function(a,d){var v;s.ready().then(function(){return v=s._dbInfo,ue.call(o)==="[object Blob]"?H(v.db).then(function(_){return _?o:I(o)}):o}).then(function(_){q(s._dbInfo,S,function(b,w){if(b)return d(b);try{var x=w.objectStore(s._dbInfo.storeName);_===null&&(_=void 0);var F=x.put(_,e);w.oncomplete=function(){_===void 0&&(_=null),a(_)},w.onabort=w.onerror=function(){var W=F.error?F.error:F.transaction.error;d(W)}}catch(W){d(W)}})}).catch(d)});return $(u,n),u}function ve(e,o){var n=this;e=Y(e);var s=new y(function(u,a){n.ready().then(function(){q(n._dbInfo,S,function(d,v){if(d)return a(d);try{var _=v.objectStore(n._dbInfo.storeName),b=_.delete(e);v.oncomplete=function(){u()},v.onerror=function(){a(b.error)},v.onabort=function(){var w=b.error?b.error:b.transaction.error;a(w)}}catch(w){a(w)}})}).catch(a)});return $(s,o),s}function Ie(e){var o=this,n=new y(function(s,u){o.ready().then(function(){q(o._dbInfo,S,function(a,d){if(a)return u(a);try{var v=d.objectStore(o._dbInfo.storeName),_=v.clear();d.oncomplete=function(){s()},d.onabort=d.onerror=function(){var b=_.error?_.error:_.transaction.error;u(b)}}catch(b){u(b)}})}).catch(u)});return $(n,e),n}function pe(e){var o=this,n=new y(function(s,u){o.ready().then(function(){q(o._dbInfo,ae,function(a,d){if(a)return u(a);try{var v=d.objectStore(o._dbInfo.storeName),_=v.count();_.onsuccess=function(){s(_.result)},_.onerror=function(){u(_.error)}}catch(b){u(b)}})}).catch(u)});return $(n,e),n}function ie(e,o){var n=this,s=new y(function(u,a){if(e<0){u(null);return}n.ready().then(function(){q(n._dbInfo,ae,function(d,v){if(d)return a(d);try{var _=v.objectStore(n._dbInfo.storeName),b=!1,w=_.openKeyCursor();w.onsuccess=function(){var x=w.result;if(!x){u(null);return}e===0||b?u(x.key):(b=!0,x.advance(e))},w.onerror=function(){a(w.error)}}catch(x){a(x)}})}).catch(a)});return $(s,o),s}function he(e){var o=this,n=new y(function(s,u){o.ready().then(function(){q(o._dbInfo,ae,function(a,d){if(a)return u(a);try{var v=d.objectStore(o._dbInfo.storeName),_=v.openKeyCursor(),b=[];_.onsuccess=function(){var w=_.result;if(!w){s(b);return}b.push(w.key),w.continue()},_.onerror=function(){u(_.error)}}catch(w){u(w)}})}).catch(u)});return $(n,e),n}function Ee(e,o){o=te.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var s=this,u;if(!e.name)u=y.reject("Invalid arguments");else{var a=e.name===n.name&&s._dbInfo.db,d=a?y.resolve(s._dbInfo.db):G(e).then(function(v){var _=z[e.name],b=_.forages;_.db=v;for(var w=0;w<b.length;w++)b[w]._dbInfo.db=v;return v});e.storeName?u=d.then(function(v){if(v.objectStoreNames.contains(e.storeName)){var _=v.version+1;j(e);var b=z[e.name],w=b.forages;v.close();for(var x=0;x<w.length;x++){var F=w[x];F._dbInfo.db=null,F._dbInfo.version=_}var W=new y(function(k,Z){var J=p.open(e.name,_);J.onerror=function(fe){var $e=J.result;$e.close(),Z(fe)},J.onupgradeneeded=function(){var fe=J.result;fe.deleteObjectStore(e.storeName)},J.onsuccess=function(){var fe=J.result;fe.close(),k(fe)}});return W.then(function(k){b.db=k;for(var Z=0;Z<w.length;Z++){var J=w[Z];J._dbInfo.db=k,C(J._dbInfo)}}).catch(function(k){throw(O(e,k)||y.resolve()).catch(function(){}),k})}}):u=d.then(function(v){j(e);var _=z[e.name],b=_.forages;v.close();for(var w=0;w<b.length;w++){var x=b[w];x._dbInfo.db=null}var F=new y(function(W,k){var Z=p.deleteDatabase(e.name);Z.onerror=function(){var J=Z.result;J&&J.close(),k(Z.error)},Z.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},Z.onsuccess=function(){var J=Z.result;J&&J.close(),W(J)}});return F.then(function(W){_.db=W;for(var k=0;k<b.length;k++){var Z=b[k];C(Z._dbInfo)}}).catch(function(W){throw(O(e,W)||y.resolve()).catch(function(){}),W})})}return $(u,o),u}var Ae={_driver:"asyncStorage",_initStorage:X,_support:g(),iterate:se,getItem:re,setItem:_e,removeItem:ve,clear:Ie,length:pe,key:ie,keys:he,dropInstance:Ee};function Vt(){return typeof openDatabase=="function"}var be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jt="~~local_forage_type~",it=/^~~local_forage_type~([^~]+)~/,Pe="__lfsc__:",He=Pe.length,Ye="arbf",We="blob",at="si08",st="ui08",ct="uic8",ut="si16",ft="si32",lt="ur16",dt="ui32",ht="fl32",mt="fl64",vt=He+Ye.length,pt=Object.prototype.toString;function gt(e){var o=e.length*.75,n=e.length,s,u=0,a,d,v,_;e[e.length-1]==="="&&(o--,e[e.length-2]==="="&&o--);var b=new ArrayBuffer(o),w=new Uint8Array(b);for(s=0;s<n;s+=4)a=be.indexOf(e[s]),d=be.indexOf(e[s+1]),v=be.indexOf(e[s+2]),_=be.indexOf(e[s+3]),w[u++]=a<<2|d>>4,w[u++]=(d&15)<<4|v>>2,w[u++]=(v&3)<<6|_&63;return b}function ke(e){var o=new Uint8Array(e),n="",s;for(s=0;s<o.length;s+=3)n+=be[o[s]>>2],n+=be[(o[s]&3)<<4|o[s+1]>>4],n+=be[(o[s+1]&15)<<2|o[s+2]>>6],n+=be[o[s+2]&63];return o.length%3===2?n=n.substring(0,n.length-1)+"=":o.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function Kt(e,o){var n="";if(e&&(n=pt.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&pt.call(e.buffer)==="[object ArrayBuffer]")){var s,u=Pe;e instanceof ArrayBuffer?(s=e,u+=Ye):(s=e.buffer,n==="[object Int8Array]"?u+=at:n==="[object Uint8Array]"?u+=st:n==="[object Uint8ClampedArray]"?u+=ct:n==="[object Int16Array]"?u+=ut:n==="[object Uint16Array]"?u+=lt:n==="[object Int32Array]"?u+=ft:n==="[object Uint32Array]"?u+=dt:n==="[object Float32Array]"?u+=ht:n==="[object Float64Array]"?u+=mt:o(new Error("Failed to get type for BinaryArray"))),o(u+ke(s))}else if(n==="[object Blob]"){var a=new FileReader;a.onload=function(){var d=jt+e.type+"~"+ke(this.result);o(Pe+We+d)},a.readAsArrayBuffer(e)}else try{o(JSON.stringify(e))}catch(d){console.error("Couldn't convert value into a JSON string: ",e),o(null,d)}}function Gt(e){if(e.substring(0,He)!==Pe)return JSON.parse(e);var o=e.substring(vt),n=e.substring(He,vt),s;if(n===We&&it.test(o)){var u=o.match(it);s=u[1],o=o.substring(u[0].length)}var a=gt(o);switch(n){case Ye:return a;case We:return T([a],{type:s});case at:return new Int8Array(a);case st:return new Uint8Array(a);case ct:return new Uint8ClampedArray(a);case ut:return new Int16Array(a);case lt:return new Uint16Array(a);case ft:return new Int32Array(a);case dt:return new Uint32Array(a);case ht:return new Float32Array(a);case mt:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}}var ze={serialize:Kt,deserialize:Gt,stringToBuffer:gt,bufferToString:ke};function yt(e,o,n,s){e.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,s)}function Qt(e){var o=this,n={db:null};if(e)for(var s in e)n[s]=typeof e[s]!="string"?e[s].toString():e[s];var u=new y(function(a,d){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(v){return d(v)}n.db.transaction(function(v){yt(v,n,function(){o._dbInfo=n,a()},function(_,b){d(b)})},d)});return n.serializer=ze,u}function we(e,o,n,s,u,a){e.executeSql(n,s,u,function(d,v){v.code===v.SYNTAX_ERR?d.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[o.storeName],function(_,b){b.rows.length?a(_,v):yt(_,o,function(){_.executeSql(n,s,u,a)},a)},a):a(d,v)},a)}function Jt(e,o){var n=this;e=Y(e);var s=new y(function(u,a){n.ready().then(function(){var d=n._dbInfo;d.db.transaction(function(v){we(v,d,"SELECT * FROM "+d.storeName+" WHERE key = ? LIMIT 1",[e],function(_,b){var w=b.rows.length?b.rows.item(0).value:null;w&&(w=d.serializer.deserialize(w)),u(w)},function(_,b){a(b)})})}).catch(a)});return $(s,o),s}function Xt(e,o){var n=this,s=new y(function(u,a){n.ready().then(function(){var d=n._dbInfo;d.db.transaction(function(v){we(v,d,"SELECT * FROM "+d.storeName,[],function(_,b){for(var w=b.rows,x=w.length,F=0;F<x;F++){var W=w.item(F),k=W.value;if(k&&(k=d.serializer.deserialize(k)),k=e(k,W.key,F+1),k!==void 0){u(k);return}}u()},function(_,b){a(b)})})}).catch(a)});return $(s,o),s}function _t(e,o,n,s){var u=this;e=Y(e);var a=new y(function(d,v){u.ready().then(function(){o===void 0&&(o=null);var _=o,b=u._dbInfo;b.serializer.serialize(o,function(w,x){x?v(x):b.db.transaction(function(F){we(F,b,"INSERT OR REPLACE INTO "+b.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){d(_)},function(W,k){v(k)})},function(F){if(F.code===F.QUOTA_ERR){if(s>0){d(_t.apply(u,[e,_,n,s-1]));return}v(F)}})})}).catch(v)});return $(a,n),a}function Zt(e,o,n){return _t.apply(this,[e,o,n,1])}function en(e,o){var n=this;e=Y(e);var s=new y(function(u,a){n.ready().then(function(){var d=n._dbInfo;d.db.transaction(function(v){we(v,d,"DELETE FROM "+d.storeName+" WHERE key = ?",[e],function(){u()},function(_,b){a(b)})})}).catch(a)});return $(s,o),s}function tn(e){var o=this,n=new y(function(s,u){o.ready().then(function(){var a=o._dbInfo;a.db.transaction(function(d){we(d,a,"DELETE FROM "+a.storeName,[],function(){s()},function(v,_){u(_)})})}).catch(u)});return $(n,e),n}function nn(e){var o=this,n=new y(function(s,u){o.ready().then(function(){var a=o._dbInfo;a.db.transaction(function(d){we(d,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(v,_){var b=_.rows.item(0).c;s(b)},function(v,_){u(_)})})}).catch(u)});return $(n,e),n}function rn(e,o){var n=this,s=new y(function(u,a){n.ready().then(function(){var d=n._dbInfo;d.db.transaction(function(v){we(v,d,"SELECT key FROM "+d.storeName+" WHERE id = ? LIMIT 1",[e+1],function(_,b){var w=b.rows.length?b.rows.item(0).key:null;u(w)},function(_,b){a(b)})})}).catch(a)});return $(s,o),s}function on(e){var o=this,n=new y(function(s,u){o.ready().then(function(){var a=o._dbInfo;a.db.transaction(function(d){we(d,a,"SELECT key FROM "+a.storeName,[],function(v,_){for(var b=[],w=0;w<_.rows.length;w++)b.push(_.rows.item(w).key);s(b)},function(v,_){u(_)})})}).catch(u)});return $(n,e),n}function an(e){return new y(function(o,n){e.transaction(function(s){s.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(u,a){for(var d=[],v=0;v<a.rows.length;v++)d.push(a.rows.item(v).name);o({db:e,storeNames:d})},function(u,a){n(a)})},function(s){n(s)})})}function sn(e,o){o=te.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var s=this,u;return e.name?u=new y(function(a){var d;e.name===n.name?d=s._dbInfo.db:d=openDatabase(e.name,"","",0),e.storeName?a({db:d,storeNames:[e.storeName]}):a(an(d))}).then(function(a){return new y(function(d,v){a.db.transaction(function(_){function b(W){return new y(function(k,Z){_.executeSql("DROP TABLE IF EXISTS "+W,[],function(){k()},function(J,fe){Z(fe)})})}for(var w=[],x=0,F=a.storeNames.length;x<F;x++)w.push(b(a.storeNames[x]));y.all(w).then(function(){d()}).catch(function(W){v(W)})},function(_){v(_)})})}):u=y.reject("Invalid arguments"),$(u,o),u}var cn={_driver:"webSQLStorage",_initStorage:Qt,_support:Vt(),iterate:Xt,getItem:Jt,setItem:Zt,removeItem:en,clear:tn,length:nn,key:rn,keys:on,dropInstance:sn};function un(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function bt(e,o){var n=e.name+"/";return e.storeName!==o.storeName&&(n+=e.storeName+"/"),n}function fn(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function ln(){return!fn()||localStorage.length>0}function dn(e){var o=this,n={};if(e)for(var s in e)n[s]=e[s];return n.keyPrefix=bt(e,o._defaultConfig),ln()?(o._dbInfo=n,n.serializer=ze,y.resolve()):y.reject()}function hn(e){var o=this,n=o.ready().then(function(){for(var s=o._dbInfo.keyPrefix,u=localStorage.length-1;u>=0;u--){var a=localStorage.key(u);a.indexOf(s)===0&&localStorage.removeItem(a)}});return $(n,e),n}function mn(e,o){var n=this;e=Y(e);var s=n.ready().then(function(){var u=n._dbInfo,a=localStorage.getItem(u.keyPrefix+e);return a&&(a=u.serializer.deserialize(a)),a});return $(s,o),s}function vn(e,o){var n=this,s=n.ready().then(function(){for(var u=n._dbInfo,a=u.keyPrefix,d=a.length,v=localStorage.length,_=1,b=0;b<v;b++){var w=localStorage.key(b);if(w.indexOf(a)===0){var x=localStorage.getItem(w);if(x&&(x=u.serializer.deserialize(x)),x=e(x,w.substring(d),_++),x!==void 0)return x}}});return $(s,o),s}function pn(e,o){var n=this,s=n.ready().then(function(){var u=n._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(u.keyPrefix.length)),a});return $(s,o),s}function gn(e){var o=this,n=o.ready().then(function(){for(var s=o._dbInfo,u=localStorage.length,a=[],d=0;d<u;d++){var v=localStorage.key(d);v.indexOf(s.keyPrefix)===0&&a.push(v.substring(s.keyPrefix.length))}return a});return $(n,e),n}function yn(e){var o=this,n=o.keys().then(function(s){return s.length});return $(n,e),n}function _n(e,o){var n=this;e=Y(e);var s=n.ready().then(function(){var u=n._dbInfo;localStorage.removeItem(u.keyPrefix+e)});return $(s,o),s}function bn(e,o,n){var s=this;e=Y(e);var u=s.ready().then(function(){o===void 0&&(o=null);var a=o;return new y(function(d,v){var _=s._dbInfo;_.serializer.serialize(o,function(b,w){if(w)v(w);else try{localStorage.setItem(_.keyPrefix+e,b),d(a)}catch(x){(x.name==="QuotaExceededError"||x.name==="NS_ERROR_DOM_QUOTA_REACHED")&&v(x),v(x)}})})});return $(u,n),u}function wn(e,o){if(o=te.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var s=this,u;return e.name?u=new y(function(a){e.storeName?a(bt(e,s._defaultConfig)):a(e.name+"/")}).then(function(a){for(var d=localStorage.length-1;d>=0;d--){var v=localStorage.key(d);v.indexOf(a)===0&&localStorage.removeItem(v)}}):u=y.reject("Invalid arguments"),$(u,o),u}var Sn={_driver:"localStorageWrapper",_initStorage:dn,_support:un(),iterate:vn,getItem:mn,setItem:bn,removeItem:_n,clear:hn,length:yn,key:pn,keys:gn,dropInstance:wn},In=function(o,n){return o===n||typeof o=="number"&&typeof n=="number"&&isNaN(o)&&isNaN(n)},En=function(o,n){for(var s=o.length,u=0;u<s;){if(In(o[u],n))return!0;u++}return!1},wt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},xe={},St={},Le={INDEXEDDB:Ae,WEBSQL:cn,LOCALSTORAGE:Sn},An=[Le.INDEXEDDB._driver,Le.WEBSQL._driver,Le.LOCALSTORAGE._driver],Be=["dropInstance"],Ve=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Be),Ln={description:"",driver:An.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Rn(e,o){e[o]=function(){var n=arguments;return e.ready().then(function(){return e[o].apply(e,n)})}}function je(){for(var e=1;e<arguments.length;e++){var o=arguments[e];if(o)for(var n in o)o.hasOwnProperty(n)&&(wt(o[n])?arguments[0][n]=o[n].slice():arguments[0][n]=o[n])}return arguments[0]}var xn=function(){function e(o){m(this,e);for(var n in Le)if(Le.hasOwnProperty(n)){var s=Le[n],u=s._driver;this[n]=u,xe[u]||this.defineDriver(s)}this._defaultConfig=je({},Ln),this._config=je({},this._defaultConfig,o),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":l(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var s in n){if(s==="storeName"&&(n[s]=n[s].replace(/\W/g,"_")),s==="version"&&typeof n[s]!="number")return new Error("Database version must be a number.");this._config[s]=n[s]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,s,u){var a=new y(function(d,v){try{var _=n._driver,b=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){v(b);return}for(var w=Ve.concat("_initStorage"),x=0,F=w.length;x<F;x++){var W=w[x],k=!En(Be,W);if((k||n[W])&&typeof n[W]!="function"){v(b);return}}var Z=function(){for(var $e=function(Tn){return function(){var Cn=new Error("Method "+Tn+" is not implemented by the current driver"),It=y.reject(Cn);return $(It,arguments[arguments.length-1]),It}},Ke=0,Dn=Be.length;Ke<Dn;Ke++){var Ge=Be[Ke];n[Ge]||(n[Ge]=$e(Ge))}};Z();var J=function($e){xe[_]&&console.info("Redefining LocalForage driver: "+_),xe[_]=n,St[_]=$e,d()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(J,v):J(!!n._support):J(!0)}catch(fe){v(fe)}});return U(a,s,u),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,s,u){var a=xe[n]?y.resolve(xe[n]):y.reject(new Error("Driver not found."));return U(a,s,u),a},e.prototype.getSerializer=function(n){var s=y.resolve(ze);return U(s,n),s},e.prototype.ready=function(n){var s=this,u=s._driverSet.then(function(){return s._ready===null&&(s._ready=s._initDriver()),s._ready});return U(u,n,n),u},e.prototype.setDriver=function(n,s,u){var a=this;wt(n)||(n=[n]);var d=this._getSupportedDrivers(n);function v(){a._config.driver=a.driver()}function _(x){return a._extend(x),v(),a._ready=a._initStorage(a._config),a._ready}function b(x){return function(){var F=0;function W(){for(;F<x.length;){var k=x[F];return F++,a._dbInfo=null,a._ready=null,a.getDriver(k).then(_).catch(W)}v();var Z=new Error("No available storage method found.");return a._driverSet=y.reject(Z),a._driverSet}return W()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return y.resolve()}):y.resolve();return this._driverSet=w.then(function(){var x=d[0];return a._dbInfo=null,a._ready=null,a.getDriver(x).then(function(F){a._driver=F._driver,v(),a._wrapLibraryMethodsWithReady(),a._initDriver=b(d)})}).catch(function(){v();var x=new Error("No available storage method found.");return a._driverSet=y.reject(x),a._driverSet}),U(this._driverSet,s,u),this._driverSet},e.prototype.supports=function(n){return!!St[n]},e.prototype._extend=function(n){je(this,n)},e.prototype._getSupportedDrivers=function(n){for(var s=[],u=0,a=n.length;u<a;u++){var d=n[u];this.supports(d)&&s.push(d)}return s},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,s=Ve.length;n<s;n++)Rn(this,Ve[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),$n=new xn;c.exports=$n},{3:3}]},{},[4])(4)})})(Nt);var On=Nt.exports;const ne=Ot(On);async function Nn(t,r){const i=await ne.getItem("persons")||[];i.includes(t)||(await ne.setItem("persons",[t,...i]),Mn(t,r))}function Mn(t,r){let i=ne.createInstance({name:t});const{currency:c}=r;i.setItem("base",{currency:c}),i.setItem("userdata",{cost:[],income:[]}),i.setItem("currency",{currency:c})}async function Pn(t){return await ne.createInstance({name:t}).getItem("base")}async function Te(t){return await ne.createInstance({name:t}).getItem("userdata")}async function Bn(t,r){const i=ne.createInstance({name:r}),c=await i.getItem("userdata");await i.setItem("userdata",{...c,income:t})}async function Un(t,r){const i=ne.createInstance({name:r}),c=await i.getItem("userdata");await i.setItem("userdata",{...c,cost:t})}async function Fn(t){const i=(await ne.getItem("persons")).filter(c=>c!==t);await ne.dropInstance({name:t}),await ne.setItem("persons",i)}async function qn(t,r,i){const c=ne.createInstance({name:t}),f=await c.getItem("userdata");if(i==="income"){const l=f.income.filter(m=>m.id.toString()!==r);await c.setItem("userdata",{...f,income:l})}else{const l=f.cost.filter(m=>m.id.toString()!==r);await c.setItem("userdata",{...f,cost:l})}}async function Hn(t,r,i,c,f){const l=ne.createInstance({name:t}),{title:m,value:h,date:p}=i,g=await l.getItem("userdata");c==="income"?c===f?await l.setItem("userdata",{...g,income:g.income.map(T=>T.id.toString()===r?{...T,title:m,value:h,date:p}:T)}):await l.setItem("userdata",{...g,income:[{id:Date.now(),title:m,value:h,date:p},...g.income],cost:g.cost.filter(T=>T.id.toString()!==r)}):c===f?await l.setItem("userdata",{...g,cost:g.cost.map(T=>T.id.toString()===r?{...T,title:m,value:h,date:p}:T)}):await l.setItem("userdata",{...g,cost:[{id:Date.now(),title:m,value:h,date:p},...g.cost],income:g.income.filter(T=>T.id.toString()!==r)})}async function Yn(t){return await ne.createInstance({name:t}).getItem("base")}async function Wn(t,r){const i=await t.getItem("userdata");t.setItem("userdata",{...i,cost:i.cost.map(c=>({...c,value:(Number(c.value)*r).toFixed(2)})),income:i.income.map(c=>({...c,value:(Number(c.value)*r).toFixed(2)}))})}async function kn(t,r,i){const c=ne.createInstance({name:t});await c.setItem("currency",{currency:r}),await Wn(c,i),c.setItem("base",{currency:r}),window.location.reload()}async function zn(t){await ne.setItem("language",{language:t})}async function Vn(){const{language:t}=await ne.getItem("language")||"ua";return t==="ua"?{language:t,index:0}:{language:t,index:1}}async function Et(t){await ne.setItem("theme",t)}async function jn(){return await ne.getItem("theme")||"light"}var Je=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Ce=Ut,Kn=tt,Gn=Zn,Qn=Mt,Jn=Bt,Xn=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function tt(t){for(var r=[],i=0,c=0,f="",l;(l=Xn.exec(t))!=null;){var m=l[0],h=l[1],p=l.index;if(f+=t.slice(c,p),c=p+m.length,h){f+=h[1];continue}f&&(r.push(f),f="");var g=l[2],T=l[3],y=l[4],$=l[5],U=l[6],Y=l[7],te=U==="+"||U==="*",V=U==="?"||U==="*",oe=g||"/",z=y||$||(Y?".*":"[^"+oe+"]+?");r.push({name:T||i++,prefix:g||"",delimiter:oe,optional:V,repeat:te,pattern:er(z)})}return c<t.length&&(f+=t.substr(c)),f&&r.push(f),r}function Zn(t){return Mt(tt(t))}function Mt(t){for(var r=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(r[i]=new RegExp("^"+t[i].pattern+"$"));return function(c){for(var f="",l=c||{},m=0;m<t.length;m++){var h=t[m];if(typeof h=="string"){f+=h;continue}var p=l[h.name],g;if(p==null){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to be defined')}if(Je(p)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received "'+p+'"');if(p.length===0){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var T=0;T<p.length;T++){if(g=encodeURIComponent(p[T]),!r[m].test(g))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received "'+g+'"');f+=(T===0?h.prefix:h.delimiter)+g}continue}if(g=encodeURIComponent(p),!r[m].test(g))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+g+'"');f+=h.prefix+g}return f}}function At(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function er(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function nt(t,r){return t.keys=r,t}function Pt(t){return t.sensitive?"":"i"}function tr(t,r){var i=t.source.match(/\((?!\?)/g);if(i)for(var c=0;c<i.length;c++)r.push({name:c,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return nt(t,r)}function nr(t,r,i){for(var c=[],f=0;f<t.length;f++)c.push(Ut(t[f],r,i).source);var l=new RegExp("(?:"+c.join("|")+")",Pt(i));return nt(l,r)}function rr(t,r,i){for(var c=tt(t),f=Bt(c,i),l=0;l<c.length;l++)typeof c[l]!="string"&&r.push(c[l]);return nt(f,r)}function Bt(t,r){r=r||{};for(var i=r.strict,c=r.end!==!1,f="",l=t[t.length-1],m=typeof l=="string"&&/\/$/.test(l),h=0;h<t.length;h++){var p=t[h];if(typeof p=="string")f+=At(p);else{var g=At(p.prefix),T=p.pattern;p.repeat&&(T+="(?:"+g+T+")*"),p.optional?g?T="(?:"+g+"("+T+"))?":T="("+T+")?":T=g+"("+T+")",f+=T}}return i||(f=(m?f.slice(0,-2):f)+"(?:\\/(?=$))?"),c?f+="$":f+=i&&m?"":"(?=\\/|$)",new RegExp("^"+f,Pt(r))}function Ut(t,r,i){return r=r||[],Je(r)?i||(i={}):(i=r,r=[]),t instanceof RegExp?tr(t,r):Je(t)?nr(t,r,i):rr(t,r,i)}Ce.parse=Kn;Ce.compile=Gn;Ce.tokensToFunction=Qn;Ce.tokensToRegExp=Jn;var Re=typeof document<"u",de=typeof window<"u",Fe=typeof history<"u",or=typeof process<"u",Xe=Re&&document.ontouchstart?"touchstart":"click",ye=de&&!!(window.history.location||window.location);function ee(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}ee.prototype.configure=function(t){var r=t||{};this._window=r.window||de&&window,this._decodeURLComponents=r.decodeURLComponents!==!1,this._popstate=r.popstate!==!1&&de,this._click=r.click!==!1&&Re,this._hashbang=!!r.hashbang;var i=this._window;this._popstate?i.addEventListener("popstate",this._onpopstate,!1):de&&i.removeEventListener("popstate",this._onpopstate,!1),this._click?i.document.addEventListener(Xe,this.clickHandler,!1):Re&&i.document.removeEventListener(Xe,this.clickHandler,!1),this._hashbang&&de&&!Fe?i.addEventListener("hashchange",this._onpopstate,!1):de&&i.removeEventListener("hashchange",this._onpopstate,!1)};ee.prototype.base=function(t){if(arguments.length===0)return this._base;this._base=t};ee.prototype._getBase=function(){var t=this._base;if(t)return t;var r=de&&this._window&&this._window.location;return de&&this._hashbang&&r&&r.protocol==="file:"&&(t=r.pathname),t};ee.prototype.strict=function(t){if(arguments.length===0)return this._strict;this._strict=t};ee.prototype.start=function(t){var r=t||{};if(this.configure(r),r.dispatch!==!1){this._running=!0;var i;if(ye){var c=this._window,f=c.location;this._hashbang&&~f.hash.indexOf("#!")?i=f.hash.substr(2)+f.search:this._hashbang?i=f.search+f.hash:i=f.pathname+f.search+f.hash}this.replace(i,null,!0,r.dispatch)}};ee.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(Xe,this.clickHandler,!1),de&&t.removeEventListener("popstate",this._onpopstate,!1),de&&t.removeEventListener("hashchange",this._onpopstate,!1)}};ee.prototype.show=function(t,r,i,c){var f=new Oe(t,r,this),l=this.prevContext;return this.prevContext=f,this.current=f.path,i!==!1&&this.dispatch(f,l),f.handled!==!1&&c!==!1&&f.pushState(),f};ee.prototype.back=function(t,r){var i=this;if(this.len>0){var c=this._window;Fe&&c.history.back(),this.len--}else setTimeout(t?function(){i.show(t,r)}:function(){i.show(i._getBase(),r)})};ee.prototype.redirect=function(t,r){var i=this;typeof t=="string"&&typeof r=="string"&&qe.call(this,t,function(c){setTimeout(function(){i.replace(r)},0)}),typeof t=="string"&&typeof r>"u"&&setTimeout(function(){i.replace(t)},0)};ee.prototype.replace=function(t,r,i,c){var f=new Oe(t,r,this),l=this.prevContext;return this.prevContext=f,this.current=f.path,f.init=i,f.save(),c!==!1&&this.dispatch(f,l),f};ee.prototype.dispatch=function(t,r){var i=0,c=0,f=this;function l(){var h=f.exits[c++];if(!h)return m();h(r,l)}function m(){var h=f.callbacks[i++];if(t.path!==f.current){t.handled=!1;return}if(!h)return ir.call(f,t);h(t,m)}r?l():m()};ee.prototype.exit=function(t,r){if(typeof t=="function")return this.exit("*",t);for(var i=new Ne(t,null,this),c=1;c<arguments.length;++c)this.exits.push(i.middleware(arguments[c]))};ee.prototype.clickHandler=function(t){if(this._which(t)===1&&!(t.metaKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented){var r=t.target,i=t.path||(t.composedPath?t.composedPath():null);if(i){for(var c=0;c<i.length;c++)if(i[c].nodeName&&i[c].nodeName.toUpperCase()==="A"&&i[c].href){r=i[c];break}}for(;r&&r.nodeName.toUpperCase()!=="A";)r=r.parentNode;if(!(!r||r.nodeName.toUpperCase()!=="A")){var f=typeof r.href=="object"&&r.href.constructor.name==="SVGAnimatedString";if(!(r.hasAttribute("download")||r.getAttribute("rel")==="external")){var l=r.getAttribute("href");if(!(!this._hashbang&&this._samePath(r)&&(r.hash||l==="#"))&&!(l&&l.indexOf("mailto:")>-1)&&!(f?r.target.baseVal:r.target)&&!(!f&&!this.sameOrigin(r.href))){var m=f?r.href.baseVal:r.pathname+r.search+(r.hash||"");m=m[0]!=="/"?"/"+m:m,or&&m.match(/^\/[a-zA-Z]:\//)&&(m=m.replace(/^\/[a-zA-Z]:\//,"/"));var h=m,p=this._getBase();m.indexOf(p)===0&&(m=m.substr(p.length)),this._hashbang&&(m=m.replace("#!","")),!(p&&h===m&&(!ye||this._window.location.protocol!=="file:"))&&(t.preventDefault(),this.show(h))}}}}};ee.prototype._onpopstate=function(){var t=!1;return de?(Re&&document.readyState==="complete"?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(i){if(t){var c=this;if(i.state){var f=i.state.path;c.replace(f,i.state)}else if(ye){var l=c._window.location;c.show(l.pathname+l.search+l.hash,void 0,void 0,!1)}}}):function(){}}();ee.prototype._which=function(t){return t=t||de&&this._window.event,t.which==null?t.button:t.which};ee.prototype._toURL=function(t){var r=this._window;if(typeof URL=="function"&&ye)return new URL(t,r.location.toString());if(Re){var i=r.document.createElement("a");return i.href=t,i}};ee.prototype.sameOrigin=function(t){if(!t||!ye)return!1;var r=this._toURL(t),i=this._window,c=i.location;return c.protocol===r.protocol&&c.hostname===r.hostname&&(c.port===r.port||c.port===""&&(r.port==80||r.port==443))};ee.prototype._samePath=function(t){if(!ye)return!1;var r=this._window,i=r.location;return t.pathname===i.pathname&&t.search===i.search};ee.prototype._decodeURLEncodedURIComponent=function(t){return typeof t!="string"?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t};function Ft(){var t=new ee;function r(){return qe.apply(t,arguments)}return r.callbacks=t.callbacks,r.exits=t.exits,r.base=t.base.bind(t),r.strict=t.strict.bind(t),r.start=t.start.bind(t),r.stop=t.stop.bind(t),r.show=t.show.bind(t),r.back=t.back.bind(t),r.redirect=t.redirect.bind(t),r.replace=t.replace.bind(t),r.dispatch=t.dispatch.bind(t),r.exit=t.exit.bind(t),r.configure=t.configure.bind(t),r.sameOrigin=t.sameOrigin.bind(t),r.clickHandler=t.clickHandler.bind(t),r.create=Ft,Object.defineProperty(r,"len",{get:function(){return t.len},set:function(i){t.len=i}}),Object.defineProperty(r,"current",{get:function(){return t.current},set:function(i){t.current=i}}),r.Context=Oe,r.Route=Ne,r}function qe(t,r){if(typeof t=="function")return qe.call(this,"*",t);if(typeof r=="function")for(var i=new Ne(t,null,this),c=1;c<arguments.length;++c)this.callbacks.push(i.middleware(arguments[c]));else typeof t=="string"?this[typeof r=="string"?"redirect":"show"](t,r):this.start(t)}function ir(t){if(!t.handled){var r,i=this,c=i._window;i._hashbang?r=ye&&this._getBase()+c.location.hash.replace("#!",""):r=ye&&c.location.pathname+c.location.search,r!==t.canonicalPath&&(i.stop(),t.handled=!1,ye&&(c.location.href=t.canonicalPath))}}function ar(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Oe(t,r,i){var c=this.page=i||qe,f=c._window,l=c._hashbang,m=c._getBase();t[0]==="/"&&t.indexOf(m)!==0&&(t=m+(l?"#!":"")+t);var h=t.indexOf("?");this.canonicalPath=t;var p=new RegExp("^"+ar(m));if(this.path=t.replace(p,"")||"/",l&&(this.path=this.path.replace("#!","")||"/"),this.title=Re&&f.document.title,this.state=r||{},this.state.path=t,this.querystring=~h?c._decodeURLEncodedURIComponent(t.slice(h+1)):"",this.pathname=c._decodeURLEncodedURIComponent(~h?t.slice(0,h):t),this.params={},this.hash="",!l){if(!~this.path.indexOf("#"))return;var g=this.path.split("#");this.path=this.pathname=g[0],this.hash=c._decodeURLEncodedURIComponent(g[1])||"",this.querystring=this.querystring.split("#")[0]}}Oe.prototype.pushState=function(){var t=this.page,r=t._window,i=t._hashbang;t.len++,Fe&&r.history.pushState(this.state,this.title,i&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};Oe.prototype.save=function(){var t=this.page;Fe&&t._window.history.replaceState(this.state,this.title,t._hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};function Ne(t,r,i){var c=this.page=i||rt,f=r||{};f.strict=f.strict||c._strict,this.path=t==="*"?"(.*)":t,this.method="GET",this.regexp=Ce(this.path,this.keys=[],f)}Ne.prototype.middleware=function(t){var r=this;return function(i,c){if(r.match(i.path,i.params))return i.routePath=r.path,t(i,c);c()}};Ne.prototype.match=function(t,r){var i=this.keys,c=t.indexOf("?"),f=~c?t.slice(0,c):t,l=this.regexp.exec(decodeURIComponent(f));if(!l)return!1;delete r[0];for(var m=1,h=l.length;m<h;++m){var p=i[m-1],g=this.page._decodeURLEncodedURIComponent(l[m]);(g!==void 0||!hasOwnProperty.call(r,p.name))&&(r[p.name]=g)}return!0};var rt=Ft(),Me=rt,sr=rt;Me.default=sr;const cr=document.getElementById("root"),ur=document.querySelector(".header__currency");function qt(t){fetch(`../FinManage/pages/${t}`).then(r=>r.text()).then(r=>cr.innerHTML=r).catch(r=>console.error(r))}function fr(t,r){qt("Home.html"),r()}function lr(t,r){qt("User.html"),ur.style.visibility="visible",r()}Me.base("/FinManage");Me("/",fr);Me("/:user",lr);Me();const dr={statistic:"Статистика"},hr={route:dr,"home-title":{title:"Оберіть або створіть запис"},"home-button":{add:"Додати"},"home-income":{income:"Прибуток"},"home-cost":{cost:"Витрати"},"home-income-list":{income:"Прибуток"},"home-cost-list":{cost:"Витрати"},"home-income-progress":{income:"Прибуток:"},"home-cost-progress":{cost:"Витрати:"},"home-add":{add:"Додати"},"home-clear":{clear:"Очистити"},"home-max":{max:"Максимально"},"home-min":{min:"Мінімально"}},mr={statistic:"Statistic"},vr={route:mr,"home-title":{title:"Select or create record"},"home-button":{add:"Add"},"home-income":{income:"Income"},"home-cost":{cost:"Cost"},"home-income-list":{income:"Income"},"home-cost-list":{cost:"Cost"},"home-income-progress":{income:"Income:"},"home-cost-progress":{cost:"Cost:"},"home-add":{add:"Add"},"home-clear":{clear:"Clear"},"home-max":{max:"Maximal"},"home-min":{min:"Minimal"}};function ot(t){let r=!1;return t.children.length?(r=!0,r):(r=!1,r)}function pr(t,r){const i=t.split("/")[2];return r.textContent=i,i}function Ht(t){t.selectedIndex=0}function Yt(t,r,i,c=null){const f=document.querySelectorAll(`.${r}`)||[];f.length&&f.forEach(l=>{l.addEventListener("click",m=>{const h=m.currentTarget.dataset[i],p=m.currentTarget.dataset[c]||null;t(h,p)})})}function gr(t,r,i,c=null){const f=document.querySelectorAll(`.${r}`)||[];f.length&&f.forEach(l=>{l.addEventListener("click",m=>{const h=m.currentTarget.dataset[i],p=m.currentTarget.dataset[c]||null;t(h,p)})})}const ge=document.querySelectorAll(".header__language-item"),yr=["ua","en"];let Ze={};function Wt(){Vn().then(t=>{const{language:r,index:i}=t;if(r==="ua"){if(ge[i].classList.contains("header__language-item-active"))return;Rt(r),Lt(),ge.forEach((c,f)=>ge[f].classList.remove("header__language-item-active")),ge[i].classList.add("header__language-item-active")}else if(r==="en"){if(ge[i].classList.contains("header__language-item-active"))return;Rt(r),Lt(),ge.forEach((c,f)=>ge[f].classList.remove("header__language-item-active")),ge[i].classList.add("header__language-item-active")}})}function _r(){ge.forEach((t,r)=>t.addEventListener("click",i=>{let c=i.target.innerText.toLocaleLowerCase();zn(c).then(()=>{Wt(),location.reload()})}))}function br(t){location.href=`${window.location.pathname}#${t}`,Ze={ua:hr,en:vr}}function Lt(){const t=location.hash.substring(1);let r=!1;const i=setInterval(()=>{const c=document.querySelector("#root");if(r=ot(c),r){clearInterval(i);for(let f in Ze[t]){const l=document.querySelector(`[data-lang=${f}]`);if(l){const m=l.dataset.langWord;l.textContent=Ze[t][f][m]}}}})}function Rt(t){yr.includes(t)&&br(t)}Wt();_r();const xt=document.querySelector("body"),wr=document.querySelector(".header__theme");function Sr(){jn().then(t=>{t==="light"?xt.setAttribute("dark",""):xt.removeAttribute("dark"),wr.addEventListener("click",()=>{Et(t==="light"?"dark":"light"),location.reload()})})}Sr();const $t=document.querySelector(".header__currency"),Ir=document.querySelector(".header__currency-active"),Qe=document.querySelector(".header__currency-btn"),le=document.querySelectorAll(".header__currency-list-item"),Er={UAH:{DOLLAR:.025,EURO:.024,UAH:1},DOLLAR:{DOLLAR:1,EURO:.97,UAH:40},EURO:{DOLLAR:.97,EURO:1,UAH:41.6679}},kt={UAH:"₴",DOLLAR:"$",EURO:"€"};function Ar(t){const{pathname:r}=document.location,i=r.split("/")[1];Pn(i).then(c=>{const f=Er[c.currency][t];kn(i,t,f)})}function Lr(){Qe.addEventListener("click",()=>{Ir||(Qe.style.display="none"),$t.classList.add("header__currency-active")}),le.forEach((t,r)=>t.addEventListener("click",i=>{for(let c=0;c<le.length;c++)le[c].style.order="0",le[r].setAttribute("data-selected","0");le[r].style.order="-1",le[r].setAttribute("data-selected","1"),Ar(i.target.dataset.currency),$t.classList.remove("header__currency-active"),Qe.style.display="block"}))}function Rr(t){le.forEach((r,i)=>{const c=r.getAttribute("data-currency");for(let f=0;f<le.length;f++)le[i].style.order="0",le[i].setAttribute("data-selected","0");c===t&&(le[i].style.order="-1",le[i].setAttribute("data-selected","1"))})}Lr();function xr(t){const r=document.querySelector(".home-list");window.confirm("🗑️?")&&Fn(t).then(()=>et(r))}function $r(t){const{name:r}=t;return`<div class="home-list-item">
            <div class="home-list-item-actions">
              <button class="home-list-item-actions-remove" data-name=${r}>
                <img src="../FinManage/icons/remove.png" alt="Remove" />
              </button>
            </div>
            <a href="/FinManage/${r}">${r}</a>
          </div>`}async function et(t){const r=await ne.getItem("persons")||[];if(!r.length)return t.innerHTML=r;const i=r.map(c=>$r({name:c})).join("");t.innerHTML=i,Yt(xr,"home-list-item-actions-remove","name")}document.addEventListener("DOMContentLoaded",()=>{const{pathname:t}=document.location;if(t!=="/FinManage/")return;let r=!0;const i=setInterval(()=>{const c=document.querySelector("#root");if(r=ot(c),r){clearInterval(i);const f={name:"",currency:"UAH"},l=document.querySelector(".home__actions-submit"),m=document.querySelector(".home__actions-text"),h=document.querySelectorAll(".home-select"),p=document.querySelector(".home-list");et(p),m.addEventListener("input",g=>{const T=g.target.value.trim();f[g.target.name]=T,T.length?l.removeAttribute("disabled"):l.setAttribute("disabled","")}),h.forEach(g=>{g.addEventListener("change",T=>{const y=T.target.value;f[T.target.name]=y})}),l.addEventListener("click",()=>{Nn(f.name,{currency:f.currency}).then(()=>{et(p),m.value="",h.forEach(g=>Ht(g)),l.setAttribute("disabled","")})})}},10)});var zt={exports:{}};(function(t,r){(function(i,c){t.exports=c()})(De,function(){var i=1e3,c=6e4,f=36e5,l="millisecond",m="second",h="minute",p="hour",g="day",T="week",y="month",$="quarter",U="year",Y="date",te="Invalid Date",V=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,oe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var E=["th","st","nd","rd"],I=L%100;return"["+L+(E[(I-20)%10]||E[I]||E[0])+"]"}},ue=function(L,E,I){var R=String(L);return!R||R.length>=E?L:""+Array(E+1-R.length).join(I)+L},ae={s:ue,z:function(L){var E=-L.utcOffset(),I=Math.abs(E),R=Math.floor(I/60),A=I%60;return(E<=0?"+":"-")+ue(R,2,"0")+":"+ue(A,2,"0")},m:function L(E,I){if(E.date()<I.date())return-L(I,E);var R=12*(I.year()-E.year())+(I.month()-E.month()),A=E.clone().add(R,y),P=I-A<0,B=E.clone().add(R+(P?-1:1),y);return+(-(R+(I-A)/(P?A-B:B-A))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:y,y:U,w:T,d:g,D:Y,h:p,m:h,s:m,ms:l,Q:$}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},S="en",N={};N[S]=z;var M="$isDayjsObject",H=function(L){return L instanceof Q||!(!L||!L[M])},j=function L(E,I,R){var A;if(!E)return S;if(typeof E=="string"){var P=E.toLowerCase();N[P]&&(A=P),I&&(N[P]=I,A=P);var B=E.split("-");if(!A&&B.length>1)return L(B[0])}else{var q=E.name;N[q]=E,A=q}return!R&&A&&(S=A),A||!R&&S},C=function(L,E){if(H(L))return L.clone();var I=typeof E=="object"?E:{};return I.date=L,I.args=arguments,new Q(I)},O=ae;O.l=j,O.i=H,O.w=function(L,E){return C(L,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var Q=function(){function L(I){this.$L=j(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[M]=!0}var E=L.prototype;return E.parse=function(I){this.$d=function(R){var A=R.date,P=R.utc;if(A===null)return new Date(NaN);if(O.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var B=A.match(V);if(B){var q=B[2]-1||0,K=(B[7]||"0").substring(0,3);return P?new Date(Date.UTC(B[1],q,B[3]||1,B[4]||0,B[5]||0,B[6]||0,K)):new Date(B[1],q,B[3]||1,B[4]||0,B[5]||0,B[6]||0,K)}}return new Date(A)}(I),this.init()},E.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},E.$utils=function(){return O},E.isValid=function(){return this.$d.toString()!==te},E.isSame=function(I,R){var A=C(I);return this.startOf(R)<=A&&A<=this.endOf(R)},E.isAfter=function(I,R){return C(I)<this.startOf(R)},E.isBefore=function(I,R){return this.endOf(R)<C(I)},E.$g=function(I,R,A){return O.u(I)?this[R]:this.set(A,I)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(I,R){var A=this,P=!!O.u(R)||R,B=O.p(I),q=function(pe,ie){var he=O.w(A.$u?Date.UTC(A.$y,ie,pe):new Date(A.$y,ie,pe),A);return P?he:he.endOf(g)},K=function(pe,ie){return O.w(A.toDate()[pe].apply(A.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(ie)),A)},X=this.$W,re=this.$M,se=this.$D,_e="set"+(this.$u?"UTC":"");switch(B){case U:return P?q(1,0):q(31,11);case y:return P?q(1,re):q(0,re+1);case T:var ve=this.$locale().weekStart||0,Ie=(X<ve?X+7:X)-ve;return q(P?se-Ie:se+(6-Ie),re);case g:case Y:return K(_e+"Hours",0);case p:return K(_e+"Minutes",1);case h:return K(_e+"Seconds",2);case m:return K(_e+"Milliseconds",3);default:return this.clone()}},E.endOf=function(I){return this.startOf(I,!1)},E.$set=function(I,R){var A,P=O.p(I),B="set"+(this.$u?"UTC":""),q=(A={},A[g]=B+"Date",A[Y]=B+"Date",A[y]=B+"Month",A[U]=B+"FullYear",A[p]=B+"Hours",A[h]=B+"Minutes",A[m]=B+"Seconds",A[l]=B+"Milliseconds",A)[P],K=P===g?this.$D+(R-this.$W):R;if(P===y||P===U){var X=this.clone().set(Y,1);X.$d[q](K),X.init(),this.$d=X.set(Y,Math.min(this.$D,X.daysInMonth())).$d}else q&&this.$d[q](K);return this.init(),this},E.set=function(I,R){return this.clone().$set(I,R)},E.get=function(I){return this[O.p(I)]()},E.add=function(I,R){var A,P=this;I=Number(I);var B=O.p(R),q=function(re){var se=C(P);return O.w(se.date(se.date()+Math.round(re*I)),P)};if(B===y)return this.set(y,this.$M+I);if(B===U)return this.set(U,this.$y+I);if(B===g)return q(1);if(B===T)return q(7);var K=(A={},A[h]=c,A[p]=f,A[m]=i,A)[B]||1,X=this.$d.getTime()+I*K;return O.w(X,this)},E.subtract=function(I,R){return this.add(-1*I,R)},E.format=function(I){var R=this,A=this.$locale();if(!this.isValid())return A.invalidDate||te;var P=I||"YYYY-MM-DDTHH:mm:ssZ",B=O.z(this),q=this.$H,K=this.$m,X=this.$M,re=A.weekdays,se=A.months,_e=A.meridiem,ve=function(ie,he,Ee,Ae){return ie&&(ie[he]||ie(R,P))||Ee[he].slice(0,Ae)},Ie=function(ie){return O.s(q%12||12,ie,"0")},pe=_e||function(ie,he,Ee){var Ae=ie<12?"AM":"PM";return Ee?Ae.toLowerCase():Ae};return P.replace(oe,function(ie,he){return he||function(Ee){switch(Ee){case"YY":return String(R.$y).slice(-2);case"YYYY":return O.s(R.$y,4,"0");case"M":return X+1;case"MM":return O.s(X+1,2,"0");case"MMM":return ve(A.monthsShort,X,se,3);case"MMMM":return ve(se,X);case"D":return R.$D;case"DD":return O.s(R.$D,2,"0");case"d":return String(R.$W);case"dd":return ve(A.weekdaysMin,R.$W,re,2);case"ddd":return ve(A.weekdaysShort,R.$W,re,3);case"dddd":return re[R.$W];case"H":return String(q);case"HH":return O.s(q,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return pe(q,K,!0);case"A":return pe(q,K,!1);case"m":return String(K);case"mm":return O.s(K,2,"0");case"s":return String(R.$s);case"ss":return O.s(R.$s,2,"0");case"SSS":return O.s(R.$ms,3,"0");case"Z":return B}return null}(ie)||B.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(I,R,A){var P,B=this,q=O.p(R),K=C(I),X=(K.utcOffset()-this.utcOffset())*c,re=this-K,se=function(){return O.m(B,K)};switch(q){case U:P=se()/12;break;case y:P=se();break;case $:P=se()/3;break;case T:P=(re-X)/6048e5;break;case g:P=(re-X)/864e5;break;case p:P=re/f;break;case h:P=re/c;break;case m:P=re/i;break;default:P=re}return A?P:O.a(P)},E.daysInMonth=function(){return this.endOf(y).$D},E.$locale=function(){return N[this.$L]},E.locale=function(I,R){if(!I)return this.$L;var A=this.clone(),P=j(I,R,!0);return P&&(A.$L=P),A},E.clone=function(){return O.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},L}(),G=Q.prototype;return C.prototype=G,[["$ms",l],["$s",m],["$m",h],["$H",p],["$W",g],["$M",y],["$y",U],["$D",Y]].forEach(function(L){G[L[1]]=function(E){return this.$g(E,L[0],L[1])}}),C.extend=function(L,E){return L.$i||(L(E,Q,C),L.$i=!0),C},C.locale=j,C.isDayjs=H,C.unix=function(L){return C(1e3*L)},C.en=N[S],C.Ls=N,C.p={},C})})(zt);var Dr=zt.exports;const Tr=Ot(Dr);let D={income:[],cost:[],title:"",value:"",isIncome:!0,isIncomePrev:!0,isEdit:!1,editingId:null,currency:""};function Cr(t){const{title:r,value:i,id:c,date:f}=t;return`<div class="main__lists-item-content-item">
                <p class="main__lists-item-content-item-title">
                  ${r}
                </p>
                <div class="main__lists-item-content-item-actions">
                  <button class="main__lists-item-content-item-actions-edit income-button" data-id="${c}" data-type="income">
                    <img src="../FinManage/icons/edit.png" alt="edit" />
                  </button>
                  <button class="main__lists-item-content-item-actions-remove income-button" data-id="${c}" data-type="income">
                    <img src="../FinManage/icons/remove.png" alt="remove" />
                  </button>
                </div>
                <div class="main__lists-item-content-item-info">
                  <p class="main__lists-item-content-item-info-value">
                    ${i}${kt[D.currency]}
                  </p>
                  <p class="main__lists-item-content-item-info-date">
                    ${f}
                  </p>
                </div>
              </div>`}function Or(t){const{title:r,value:i,id:c,date:f}=t;return`<div class="main__lists-item-content-item">
                <p class="main__lists-item-content-item-title">
                  ${r}
                </p>
                <div class="main__lists-item-content-item-actions">
                  <button class="main__lists-item-content-item-actions-edit income-button" data-id="${c}" data-type="cost">
                    <img src="../FinManage/icons/edit.png" alt="edit" />
                  </button>
                  <button class="main__lists-item-content-item-actions-remove cost-button" data-id="${c}" data-type="cost">
                    <img src="../FinManage/icons/remove.png" alt="remove" />
                  </button>
                </div>
                <div class="main__lists-item-content-item-info">
                  <p class="main__lists-item-content-item-info-value">
                    ${i}${kt[D.currency]}
                  </p>
                  <p class="main__lists-item-content-item-info-date">
                    ${f}
                  </p>
                </div>
              </div>`}function Nr(t,r){const i=document.querySelector(".header"),c=document.querySelector(".main__actions-submit"),f=r==="income"?D.income.find(l=>l.id.toString()===t):D.cost.find(l=>l.id.toString()===t);Mr(f.title,f.value,r,t,i,c)}function Mr(t,r,i,c,f,l){const m=document.querySelector(".main__actions-title"),h=document.querySelector(".main__actions-value"),p=document.querySelector(".main__actions-select"),g=i==="income";D.title=t,D.value=r,D.isIncomePrev=g,D.isIncome=g,D.isEdit=!0,D.editingId=c,m.value=t,h.value=Number(r),p.selectedIndex=i==="income"?0:1,window.scrollTo({top:f.offsetTop,behavior:"smooth"}),l.removeAttribute("disabled")}function Pr(){const t=document.querySelector(".main__actions-title"),r=document.querySelector(".main__actions-value"),i=document.querySelector(".main__actions-select"),c=document.querySelector(".main__actions-submit");D.title="",D.value="",D.isIncomePrev=!0,D.isIncome=!0,D.isEdit=!1,D.editingId=null,t.value="",r.value="",i.selectedIndex=0,c.setAttribute("disabled","")}function Br(t,r){const i=document.querySelector(".main__lists-income"),c=document.querySelector(".main__lists-cost"),f=document.querySelector(".main__difference-progress-income"),l=document.querySelector(".main__difference-progress-cost"),m=document.querySelector(".main__difference-value-income-value"),h=document.querySelector(".main__difference-value-cost-value"),{pathname:p}=document.location,g=p.split("/")[2];window.confirm("🗑️?")&&qn(g,t,r).then(()=>{Te(g).then(({cost:y,income:$})=>{D={...D,cost:y,income:$},ce(y,c,"cost"),ce($,i,"income"),me(f,m,$,y,"income"),me(l,h,$,y,"cost"),Se()})})}function Se(){Yt(Br,"main__lists-item-content-item-actions-remove","id","type"),gr(Nr,"main__lists-item-content-item-actions-edit","id","type")}function ce(t,r,i){if(!t.length)return r.innerHTML=[];const c=t.map(f=>i==="income"?Cr(f):Or(f)).join("");r.innerHTML=c}function Dt(t,r){if(!t.length)return 0;if(!r.length)return 100;const i=r.reduce((h,p)=>h+=Number(p.value),0),c=t.reduce((h,p)=>h+=Number(p.value),0),l=(i+c)/100,m=c/l;return Math.round(m)}function Tt(t,r){if(!r.length)return 0;if(!t.length)return 100;const i=r.reduce((h,p)=>h+=Number(p.value),0),c=t.reduce((h,p)=>h+=Number(p.value),0),l=(i+c)/100,m=i/l;return Math.round(m)}function me(t,r,i,c,f){t.style.width=f==="income"?`${Dt(i,c)}%`:`${Tt(i,c)}%`,r.textContent=f==="income"?`${Dt(i,c)}%`:`${Tt(i,c)}%`}function Ct(t,r,i,c,f,l){const m=[...r],h=[...i];t.target.checked&&(l==="min"?(m.sort((p,g)=>(p==null?void 0:p.value)-(g==null?void 0:g.value)),h.sort((p,g)=>(p==null?void 0:p.value)-(g==null?void 0:g.value))):(m.sort((p,g)=>(g==null?void 0:g.value)-(p==null?void 0:p.value)),h.sort((p,g)=>(g==null?void 0:g.value)-(p==null?void 0:p.value)))),ce(m,f,"income"),ce(h,c,"cost")}function Ur(t,r,i,c,f){const l=t.target.value,m=r.filter(p=>p.title.toLowerCase().includes(l.toLowerCase())),h=i.filter(p=>p.title.toLowerCase().includes(l.toLowerCase()));ce(m,f,"income"),ce(h,c,"cost")}document.addEventListener("DOMContentLoaded",()=>{const{pathname:t}=document.location;if(t==="/FinManage/")return;let r=!1;const i=setInterval(()=>{const c=document.querySelector("#root");if(r=ot(c),r){let M=function(C){const{name:O,value:Q}=C.target;D={...D,[O]:Q.trim()},!D.title.length||!D.value.length?y.setAttribute("disabled",""):y.removeAttribute("disabled")},H=function(){Y.value="",te.checked=!1,V.checked=!1,ce(D.income,$,"income"),ce(D.cost,U,"cost")},j=function(){const O=Tr().format("DD.MM.YYYY"),Q={id:Date.now(),title:D.title,value:D.value,date:O};if(D.isEdit){if(D.editingId){const G=D.isIncome?"income":"cost",L=D.isIncomePrev?"income":"cost";Hn(N,D.editingId,{title:D.title,value:D.value,date:O},G,L).then(()=>{Te(N).then(({cost:E,income:I})=>{Pr(),D={...D,cost:E,income:I},ce(I,$,"income"),ce(E,U,"cost"),me(z,ae,I,E,"income"),me(ue,S,I,E,"cost"),Se()})})}return}D.isIncome?Bn([...D.income,Q],N).then(()=>{Te(N).then(({cost:G,income:L})=>{D={...D,cost:G,income:L},ce(L,$,"income"),me(z,ae,L,G,"income"),me(ue,S,L,G,"cost"),Se()})}):Un([...D.cost,Q],N).then(()=>{Te(N).then(({cost:G,income:L})=>{D={...D,cost:G,income:L},ce(G,U,"cost"),me(z,ae,L,G,"income"),me(ue,S,L,G,"cost"),Se()})}),p.value="",g.value="",D.title="",D.value="",D.isIncome=!0,Ht(T)};var f=M,l=H,m=j;clearInterval(i);const h=document.querySelector(".main__name"),p=document.querySelector(".main__actions-title"),g=document.querySelector(".main__actions-value"),T=document.querySelector(".main__actions-select"),y=document.querySelector(".main__actions-submit"),$=document.querySelector(".main__lists-income"),U=document.querySelector(".main__lists-cost"),Y=document.querySelector(".main__filters-search"),te=document.querySelector(".main__filters-min"),V=document.querySelector(".main__filters-max"),oe=document.querySelector(".main__filters-submit"),z=document.querySelector(".main__difference-progress-income"),ue=document.querySelector(".main__difference-progress-cost"),ae=document.querySelector(".main__difference-value-income-value"),S=document.querySelector(".main__difference-value-cost-value"),N=pr(t,h);Yn(N).then(({currency:C})=>{Rr(C),D={...D,currency:C}}),Te(N).then(({cost:C,income:O})=>{D={...D,cost:C,income:O},ce(C,U,"cost"),ce(O,$,"income"),me(z,ae,O,C,"income"),me(ue,S,O,C,"cost"),Se()}),p.addEventListener("input",M),g.addEventListener("input",M),T.addEventListener("change",C=>D={...D,isIncome:C.target.value!=="false"}),y.addEventListener("click",j),oe.addEventListener("click",H),te.addEventListener("change",C=>{Ct(C,D.income,D.cost,U,$,"min"),Se()}),V.addEventListener("change",C=>{Ct(C,D.income,D.cost,U,$,"max"),Se()}),Y.addEventListener("input",C=>{Ur(C,D.income,D.cost,U,$),Se()})}},10)});
